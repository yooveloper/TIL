# 09장 타입변환과 단축 평가

# 타입변환이란?

자바스크립트의 모든 값은 타입이 있음.

값의 타입은 개발자의 의도에 따라 다른 타입으로 변환이 가능하고

**의도적으로 값의 타입을 바꾸는걸 명시적 타입 변환 또는 타입캐스팅 이라고함.**

```jsx
var x = 10;

var str = x.toString(); // number 타입 x 를 문자열로 형변환

console.log(typeof str, str) // string 10

console.log(typeof x, x) // number 10, 캐스팅 했다고 해서 원천값인 x의 타입이 변한건 아님.

```

# 암묵적 타입 변환 또는 타입 강제 변환

개발자의 의도와 상관없이 자바스크립트 엔진이 코드의 문맥을 고려해 암묵적으로 변환함.

```jsx
var x = 10;

var str = x + ''; // 암묵적 타입변환 , 문자열 연결연산자가 숫자x를 문자열 10으로 바꿈

console.log(typeof str, str); // string 10

'10' + 2 // ? 

1 + '10' // ?

5 * '10' // ?

!0 // ?

if(1) {} // ?
```

💢 어지럽다 어지러워 그냥 타입스크립트 쓰자 

✅  문자열 연결 연산자  → 문자타입으로 암묵적 변환

 + 문자열 연결연산자의 역할은 문자열 값을 만드는것.

   문자열 연결 연산자의 모든 피연산자는 문자열 타입이어야 함.

  **+를 산술연산자로 착각하면 안됨.**   

✅ 산술 연산자 → 숫자타입으로 암묵적 변환

- , * , / 산술 연산자의 역할은 숫자 값을 만드는 것.

산술연산자의 모든 피연산자는 숫자 타입이어야 한다.

만약 피연산자가 숫자타입변환이 안되는 놈이면 NaN 반환

✅ 비교 연산자 → 숫자타입으로 암묵적 변환

비교 연산자의 역할은 불리언 값을 만드는 것.

     > < 연산자의 역할은 크기를 비교하는것이기 때문에 피연산자의 타입이 숫자타입이어야 함.

✅ 대충 알고 넘어가기

‘’ 빈문자열, [] 빈 배열, null, false는 숫자 0으로, true는 숫자1로 변환. 객체와 빈 배열이 아닌 배열, undefined는 NaN

falsy 와 truthy

# 명시적 형 변환

✅ 문자 타입 변환

String()

toString()

+’’

✅ 숫자 타입 변환

Number()

parseInt(), parseFloat()

     +단항산술연산

*산술연산자

+true = 1, +false = 0;

✅ 불리언 타입 변환

Boolean()

!!

# 단축 평가

논리합(||) 또는 논리곱(&&) 연산자 표현식의 평가결과는 언제나 2개의 피연산자중 어느 한쪽으로 평가된다.

논리곱 연산자는 **좌항에서 우항으로 진행.**

```jsx
자 무슨말이냐 논리곱 && 연산자는 두 피연산자의 값이 true 로 평가 될 때 true를 반환한다.
즉, 'cat' && 'dog' 라는 표현식에서 좌항이 truthy여도 우항도 truthy 해야 표현식을 평가할수 있기 때문에
두번째 피연산자가 위 표현식의 평가결과를 결정함.
즉 논리연산의 결과를 결정하는 두번째 피연산자 dog를 리턴함.

논리합은 좌항만 truthy해도  두번째 피연산자까지 평가하지 않아도 이미 표현식을 평가할수있으므로
첫번째 피연산자인 좌항 cat을 리턴
```

단축평가는 표현식을 평가하는 도중 평가결과가 확정된 경우, 나머지 평과 과정을 단축하는것을 말함.

```jsx
var elem = null;
var value = elem.value; // TypeError

// 단축 평가로 에러 방지

var elem = null;

var value = elem && elem.value; // 살짝 이해 안됨

```